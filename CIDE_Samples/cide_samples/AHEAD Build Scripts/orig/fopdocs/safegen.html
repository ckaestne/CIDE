<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="safegen_files/filelist.xml">
<link rel=Edit-Time-Data href="safegen_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>SafeGen</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Sahil Thaker</o:Author>
  <o:LastAuthor>Sahil Thaker</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2006-12-07T17:20:00Z</o:Created>
  <o:LastSaved>2006-12-08T19:29:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1958</o:Words>
  <o:Characters>11165</o:Characters>
  <o:Company>University of Texas at Austin</o:Company>
  <o:Lines>93</o:Lines>
  <o:Paragraphs>26</o:Paragraphs>
  <o:CharactersWithSpaces>13097</o:CharactersWithSpaces>
  <o:Version>10.2625</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:24.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:534318705;
	mso-list-template-ids:1776061130;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:562259568;
	mso-list-template-ids:1597683224;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2
	{mso-list-id:572129986;
	mso-list-template-ids:-443129866;}
@list l2:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3
	{mso-list-id:592864413;
	mso-list-template-ids:1960619652;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4
	{mso-list-id:907303591;
	mso-list-template-ids:254578722;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:1391340609;
	mso-list-template-ids:-94457536;}
@list l6
	{mso-list-id:1583755299;
	mso-list-template-ids:-637400542;}
@list l6:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7
	{mso-list-id:2029722208;
	mso-list-template-ids:219868624;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US link=blue vlink=blue style='tab-interval:.5in'>

<div class=Section1>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;mso-padding-alt:0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=78 style='width:58.5pt;padding:0in 0in 0in 0in'>
  <p class=MsoNormal><img width=80 height=64 id="_x0000_i1025"
  src="images/FopButton3.jpg" border=0></p>
  </td>
  <td width=688 style='width:516.0pt;background:aqua;padding:0in 0in 0in 0in'>
  <h1><span style='font-family:Arial;color:blue'>The Safegen Tool</span></h1>
  </td>
 </tr>
</table>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<p><strong><span style='font-family:Arial'>Safe generation</span></strong><span
style='font-family:Arial'> is the goal of synthesizing programs with particular
properties. A Safe Generator guarantees these properties for any program that
can be synthesized. <strong><span style='font-family:Arial'>Safe composition</span></strong>
is a particular problem of safe generation: the guarantee that programs
composed<br>
from feature modules are absent of references to undefined classes, methods,
and variables.</span></p>

<p><span style='font-family:Arial'>Verifying a product line for safe
composition establishes whether it is possible to generate a program, through
composition of features, that would fail to compile due to missing
dependencies. Safe composition failure can show either an error in the model -
that the design permits programs that are not intended to be generated - or it
can show an implementation error - that the implementation does not follow
architectural level dependency rules implied by the model.</span></p>

<p><span style='font-family:Arial'>A model of a product-line is specified at a
higher level of abstraction and is far easier to design that the low-level
implementation. Consequently, errors in the model can be relatively easily
identified through manual inspection. On the other hand, it is far more
difficult to keep the implementation aligned with the product-line model,
especially in an iterative development cycle. The laborious alternative of
generating every program of the product line after every implementation
iteration is impractical for any non-trivial project.</span></p>

<p><span style='font-family:Arial'>The <b>safegen</b> tool was created in
response for automated tool support to ensure safe generation of product-lines.
Currently only safe composition properties are verified.</span></p>

<p><span style='font-family:Arial'>Safe Composition Validation reports any
implementation level dependencies between features that may not be satisfied
under a particular composition of features.</span></p>

<p><span style='font-family:Arial'>The following tool is a stand-alone command
line utility for invoking Safe Composition Validator. Programmatic invokation
is also possible with some minor modifications (email me).</span></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:Arial'><a
href="#Overview">Overview</a></span></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><a href="#PLM"><span style='font-family:Arial'>PLM
File Format</span></a></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:Arial'><a
href="#compilation">Bytecode Compilation</a> </span></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:Arial'><a
href="#Command-Line">Command-Line Invocation</a></span></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><a href="#Failure"><span style='font-family:
Arial'>Failure Details</span></a></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><a href="#Caveat"><span style='font-family:Arial'>Caveat</span></a></p>

<p>&nbsp;</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><a name=Overview><span style='font-family:Arial;color:blue'>Overview</span></a></h2>
  </td>
 </tr>
</table>

<p><span style='font-family:Arial'>This stand alone version of Safe Composition
Validator requires the model grammar file (.m) and a compiled directory structure
of all layers (compilation instructions). It supports both linear 1-dimensional
model as well as multi-dimensional models. Multi-dimensional models are defined
in a Product Line Matrix (.plm) file (see below).</span></p>

<p><span style='font-family:Arial'>The most basic scenario of usage is by
designing a linear model:</span></p>

<ol start=1 type=1>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo6;tab-stops:list .5in'><span style='font-family:
     Arial'>Write the product-line model file (foo/foo.m) such that terminals
     in the grammar refer to layer directories</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo6;tab-stops:list .5in'><span style='font-family:
     Arial'>Generate layer directory structure (foo/*)</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo6;tab-stops:list .5in'><span style='font-family:
     Arial'>Implement all layers in foo/*</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo6;tab-stops:list .5in'><span style='font-family:
     Arial'>Compile all layers into class files</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo6;tab-stops:list .5in'><span style='font-family:
     Arial'>Run SafeCompositionValidator on foo.m</span></li>
</ol>

<p><span style='font-family:Arial'>Following general properties are ensured:</span></p>

<ol start=1 type=1>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo9;tab-stops:list .5in'><span style='font-family:
     Arial'>Refinements of a class must succeed introduction (definition) of
     the class. This includes check for introduction as well as order. If the
     class is extended instead of introduced, the parent class's introduction
     is also checked.</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo9;tab-stops:list .5in'><span style='font-family:
     Arial'>Reference to a field, method, or class (Type declaring fields or
     input parameters to a method) must ensure that the field/method/class is
     introduced or inherited under any possible composition of the product-line.</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo9;tab-stops:list .5in'><span style='font-family:
     Arial'>Abstract Classes may be refined to add abstract methods. In any
     given product all concrete classes of the abstract class must implement
     all abstract methods introduced in the abstract class.</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l6 level1 lfo9;tab-stops:list .5in'><span style='font-family:
     Arial'>Refinements can add an Interface Class to a concrete class's <em><span
     style='font-family:Arial'>implements</span></em> clause. In any given
     product line each class implementing an interface must have implemented
     all interface methods.</span></li>
</ol>

<p>&nbsp;<o:p></o:p></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><a name=PLM id=PLM><span style='font-family:Arial;color:blue'>PLM File
  Format</span></a></h2>
  </td>
 </tr>
</table>

<p><strong><i><span style='font-family:Arial'>Note:</span></i></strong><em><span
style='font-family:Arial'> PLM files are only for multi-dimensional models (MDMs).
If you have not encountered MDMs you probably only have a linear model. See
command line usage options for verifying linear models - you only need the .m
model file.</span></em></p>

<p><span style='font-family:Arial'>A Product Line Matrix file defines an
n-dimensional matrix. It is needed only if dimensional model is being verified
for safe composition. </span></p>

<p><span style='font-family:Arial'>The first line contains path to the model
file. If a relative path is used, it must be relative to the
SafeCompositionValidator execution directory. The remainder of the file is
split into three sections, separated by %%. Comments are denoted by starting a
line with '</span></p>

<p><span style='font-family:Arial'>The first section specified path to the
project root directory. This layer names are appended to this path. The second
section defines the axis and units along each axis. Each unit is separated by
space. The final section defines layers within each cell of the matrix. For
example, if it is a 2-dimensional matrix, a line will be of the form: <em><span
style='font-family:Arial'>&quot;x-coodinateValue y-coordinateValue : layer1
layer2&quot;</span></em></span></p>

<table class=MsoNormalTable border=0 cellspacing=4 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:3.0pt;background:#CCCCCC;mso-padding-alt:
 3.0pt 3.0pt 3.0pt 3.0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td style='padding:3.0pt 3.0pt 3.0pt 3.0pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>projects\GPL2D.m<br>
  ' First line should always pointing to the model file </span><span
  style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>' Path to project
  root directory<br>
  projects\GPL</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>%%</span><span
  style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>' Each line
  represents an axis of the multidimensional cube<br>
  ' Tokens before : mark the axis name, and tokens after : specify the units
  along that axis<br>
  COLUMN : Base WithDriver<br>
  ROW : Directed Undirected Weighted UnWeighted BFS DFS Number Connected
  StrongC Cycle MSTPrim MSTKruskal Shortest Extra<br>
  <br>
  %%</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>' This section
  specifies the cell and layers of the matrix<br>
  ' Each line represents cell of the cube, and is preceded by its coordinates
  in n-dimensions <br>
  ' Tuple-format: axis0 axis1 ... axis(n-1) : layers separated by space</span><span
  style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>Base Directed :
  Directed<br>
  Base Undirected : Undirected<br>
  Base Weighted : Weighted<br>
  Base UnWeighted : UnWeighted<br>
  Base BFS : BFS<br>
  Base DFS : DFS<br>
  Base Number : Number<br>
  Base Connected : Connected<br>
  Base StrongC : StronglyConnected Transpose<br>
  Base Cycle : Cycle<br>
  Base MSTPrim : MSTPrim<br>
  Base MSTKruskal : MSTKruskal<br>
  Base Shortest : Shortest</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>WithDriver
  Directed : DirectedRun<br>
  WithDriver Undirected : UnDirectedRun</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>WithDriver Number
  : NumberRun<br>
  WithDriver Connected : ConnectedRun</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>WithDriver Cycle
  : CycleRun<br>
  WithDriver MSTPrim : MSTPrimRun<br>
  WithDriver MSTKruskal : MSTKruskalRun<br>
  WithDriver Shortest : ShortestRun<br>
  WithDriver Extra : Benchmark Prog</span><span style='font-family:"Courier New"'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p>&nbsp;<o:p></o:p></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><a name=compilation id=compilation><span style='font-family:Arial;
  color:blue'>Bytecode Compilation </span></a></h2>
  </td>
 </tr>
</table>

<p>The <b><span style='font-family:Arial'>safegen</span></b><span
style='font-family:Arial'> tool requires references from the bytecode to verify
compilation dependencies. There are two ways AHEAD model source can be compiled
into a program: 1) compose the jak source, convert it to java, and compile the
java classes 2) Convert individual jak files within layers into java, compile
the java files into bytecode and compose bytecode. safegen tool requires the
later approach.</span><o:p></o:p></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre align=left>Example:</pre><pre>cd to the parent of GPL directory</pre><pre>run in bash:</pre><pre>rm -r gpl\$\$</pre><pre>bcj2j gpl</pre><pre>bccompiler gpl</pre></blockquote>

<p><span style='font-family:Arial'>This procedure will produce &quot;gpl$$&quot;
directory containing all layers and class files representing jak source within
each layer. Use this directory as the Project Root for safegen tool. It needs
uncomposed compiled classes. For more information on using bytecode compilation
tools look into ByteCodeTools.html in AHEAD documentation.</span></p>

<p><strong><span style='font-family:Arial'>Note:</span></strong><span
style='font-family:Arial'> Some jar files (bcjak2java.jar, bcmixin.jar,
bcstubgenerator.jar, bctostub.jar, jrename.jar) needs to be added to the class
path (typically in setpath.bat or setpath.sh). If your AHEAD build cant find
jrename copy jrename files from lib directory of safegen package to AHEAD's bin
and lib directories.</span></p>

<p><strong><span style='font-family:Arial'>Note:</span></strong><span
style='font-family:Arial'> Bytecode compilation can be quite painful at first,
so keep the following points in mind:</span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo12;tab-stops:list .5in'><span style='font-family:
     Arial'>Scripts used in the command above come with ahead source but not ahead
     build! You might have to put the following directory in your path
     ahead\standalone\bcbinScripts or simply copy the scripts in that directory
     to wherever you are executing from.</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo12;tab-stops:list .5in'><em><span style='font-family:
     Arial'>bccompiler</span></em><span style='font-family:Arial'> does not
     like any directories that are strictly not part of a layer - such as
     images directory or if you have composed an equation from within the model
     root directory you might have an extra directory lying around (e.g test/
     after composing test.equation)</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo12;tab-stops:list .5in'><span style='font-family:
     Arial'>Each file in every layer must contain all imports that it needs. <em><span
     style='font-family:Arial'>mixing</span></em> and <em><span
     style='font-family:Arial'>jampak</span></em> won't complain if a layer
     that is composed earlier introduces the import statements, but bccompiler
     will. Generally it is a good practice for each layer to be self
     sufficient, reducing composition dependencies. </span><o:p></o:p></li>
</ul>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><a name=Command-Line id=Command-Line><span style='font-family:Arial;
  color:blue'>Command-Line Invocation</span></a></h2>
  </td>
 </tr>
</table>

<p><span style='font-family:Arial'>To call <b>safegen</b> from the command
line, type:</span><o:p></o:p></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre align=left>&gt;./safecomp -f -s -ie &quot;examples/GPL&quot; &quot;examples/GPL.m&quot;</pre></blockquote>

<p><span style='font-family:Arial'>runsafegen.sh script simply sets class paths
and invokes SafeCompositionValidator with the input parameters. Usage of
SafeCompositionValidator is explained with the following BNF style grammar.</span><o:p></o:p></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre align=left>Usage: SafeCompositionValidator LINEAR_OR_DIM</pre>

<p><span style='font-size:10.0pt;font-family:"Courier New"'>LINEAR_OR_DIM:
OPTIONS* rootPath modelFile //linear<br>
&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| -md
OPTIONS* plmFile &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//dimensional<br>
OPTIONS: -f<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| -s<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | -d<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| -ie<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| -iw<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| -ii</span></p>

<p><span style='font-size:10.0pt;font-family:"Courier New"'>Constraint:
Choose1(-ie, -iw, -ii)</span></p>

</blockquote>

<p><span style='font-family:Arial'>Explanation of optional flags:</span><o:p></o:p></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre align=left><span style='mso-spacerun:yes'>      </span>-f Output Failure Details<br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></pre><pre><span style='mso-spacerun:yes'>      </span>-s Report Validation Statistics</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>      </span>-d Debugging information - Constraint and Assignment for Failures<br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></pre><pre><span style='mso-spacerun:yes'>      </span>-ie Treat Introduction Constraints as Error<br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></pre><pre><span style='mso-spacerun:yes'>      </span>-iw Treat Introduction Constraints as Warning<br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></pre><pre><span style='mso-spacerun:yes'>      </span>-ii Ignore Introduction Constraints</pre></blockquote>

<p><span style='font-family:Arial'>Example:</span><o:p></o:p></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre align=left><span style='mso-spacerun:yes'>   </span>Ensure &quot;guidsl.jar;ClassReader.jar;jdom.jar;sat4j.jar&quot; are in your class path. They hould be in AEAD's lib. </pre><pre><span
style='mso-tab-count:1'>  </span>&gt; safecomp -f -s -ii &quot;path&quot; &quot;path&quot;</pre></blockquote>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><span style='font-family:Arial;color:blue'>Failure Details</span></h2>
  </td>
 </tr>
</table>

<p><a name=Failure><span style='font-family:Arial'>If -f flag is provided
safegen will output details about each failure it encounters. Each dependency
generates a constraint that is tested against the model. If the propositional
logic constraint is satisfied by the model a failure is reported as a
&quot;Failure Info&quot; block of text. However if a constraint can not be
satisfied we know that particular dependency can never be violated within the
product line model, and we have proved a theorem that holds for all
configuration of the model. Further constraints are checked against known
theorems and if a match is found it is classified as a duplicate constraint.
Duplicate constraints are aggregated into a single Failure Info block. For
example consider one of the the Failure Info blocks reported on GPL2D model.</span></a></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span style='mso-bookmark:Failure'><span style='font-size:10.0pt;font-family:
"Courier New"'>----------| Failure Info |---------<br>
1. Constraint: (Base and MSTPrim) implies not((WithDriver and Extra))<br>
2. Found Assignment: [1]GPL [2]MainGpl [3]Columns [4]Rows [5]RowDefine [6]Gtp
[7]Wgt [9]Alg [10]Extra [20]_MSTPrim [21]MSTPrim [30]_Weighted [31]Weighted
[36]_Undirected [37]Undirected [38]DriverProg [40]Base </span></span></p>

<p><span style='mso-bookmark:Failure'><span style='font-size:10.0pt;font-family:
"Courier New"'>3. Method Reference Dependency Unsatisfied - Referenced members
must be defined<br>
4. Layer: MSTPrim =&gt; {Benchmark}<br>
5. &nbsp;&nbsp;* Method: 'void run (Vertex)' in Class:Graph$$ references class
Graph$$'s method 'void resumeProfile ()'<br>
6. &nbsp;&nbsp;* Method: 'void run (Vertex)' in Class:Graph$$ references class
Graph$$'s method 'void stopProfile ()'<br>
7. [Aggregated 2 failures]<br>
-----------------------------------</span></span></p>

</blockquote>

<p><span style='mso-bookmark:Failure'><span style='font-family:Arial'>If debug
flag (-d ) is set the first line will report the constraint that failed. What
is generally more interesting is the second line - assignment of the model
(i.e. a valid equation ignoring the order) that violates a dependency (also on
-d). Details about what caused a particular dependency are presented within
lines 3+. </span></span></p>

<p><span style='mso-bookmark:Failure'><span style='font-family:Arial'>In the
example above line 3 tells you which type of constraint dependency was being
tested - reference, refinement, introduction, etc.<br>
Line 4 tells you dependencies between layers- this information is generally
very helpful in pinpointing the error. A =&gt; {B, C} means A depends on
definitions that are made in both B and C, hence, A requires atleast B or C.<br>
Line 5 and 6 in the example above explains the dependency - in particular
within which method it was generated, and what is it dependant on.<br>
If more than one method generates the same constraint the last line reports how
many failures were aggregated. </span></span></p>

<p><span style='mso-bookmark:Failure'><span style='font-family:Arial'>The
example above can be interpreted as follows: <em><span style='font-family:Arial'>Method
run(vertex) within class Graph which is present in layer MSTPrim references
method stopProfile() within the same class. stopProfile() is defined in
Benchmark, and the failure reports that it is possible for a model
configuration where MSTPrim is selected, thus referencing stopProfile(), however
a definition of stopProfile() is absent. The equation that results in the
unsatisfied dependency is the assignment reported in line 2 if -d flag is
chosen.</span></em></span></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;mso-cellspacing:0in;background:yellow;mso-padding-alt:
 0in 0in 0in 0in'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td width=788 style='width:591.0pt;padding:0in 0in 0in 0in'>
  <h2><span style='mso-bookmark:Failure'><span style='font-family:Arial;
  color:blue'>Caveat</span></span></h2>
  </td>
  <span style='mso-bookmark:Failure'></span>
 </tr>
</table>

<span style='mso-bookmark:Failure'></span>

<p><span style='font-family:Arial'>A lack of Safe Composition error does not
imply that the model is &quot;valid&quot;. The worst case would be that the
entire model may be unsatisfiable (i.e there are no equations that can be
generated) and SafeCompositionValidator will not find any composition errors -
because there are no compositions in the first place!</span></p>

<p><span style='font-family:Arial'>A more realistic scenario would be that the
model is invalid with respect to one of the features, say feature F (i.e.
constraints are such that F will never appear in an equation). Any
compositional dependencies being generated from F (say F depends on feature G)
are also invalid - since you can not answer the question: <strong><span
style='font-family:Arial'>If F is selected will G always be selected?</span></strong>
</span></p>

<p><span style='font-family:Arial'>safegen currently does not support validity
tests but a future version will.</span></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<p><b><span style='font-family:Arial'><a href="index.html">ATS Home Page</a></span></b></p>

<p><b><span style='font-family:Arial'>Copyright © Software Systems Generator Research
Group. All rights reserved.</span></b><span style='font-family:Arial'> <br>
<b>Revised:&nbsp; <!--webbot bot="TimeStamp" s-format="%B %d, %Y" s-type="EDITED" startspan -->
  February 12, 2006 
  <!--webbot bot="TimeStamp" endspan i-checksum="31464" -->.</b>
</span></p>

</div>

</body>

</html>
